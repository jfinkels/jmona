<!--
 IPDEvolutionTester-context.xml

 Copyright 2009 Jeffrey Finkelstein
 
 This file is part of jmona.
 
 jmona is free software: you can redistribute it and/or modify it under the
 terms of the GNU General Public License as published by the Free Software
 Foundation, either version 3 of the License, or (at your option) any later
 version.
 
 jmona is distributed in the hope that it will be useful, but WITHOUT ANY
 WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 
 You should have received a copy of the GNU General Public License along with
 jmona. If not, see <http://www.gnu.org/licenses/>.
-->
<beans
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
                        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">
  
  <bean id="individualFactory" class="jmona.example.game.ipd.IPDStrategyFactory">
    <property name="strategyClasses">
      <set>
        <bean class="java.lang.Class" factory-method="forName">
          <constructor-arg value="jmona.example.game.ipd.strategy.PavlovStrategy" />
        </bean>
        <bean class="java.lang.Class" factory-method="forName">
          <constructor-arg value="jmona.example.game.ipd.strategy.RuthlessStrategy" />
        </bean>
        <bean class="java.lang.Class" factory-method="forName">
          <constructor-arg value="jmona.example.game.ipd.strategy.CooperativeStrategy" />
        </bean>
        <bean class="java.lang.Class" factory-method="forName">
          <constructor-arg value="jmona.example.game.ipd.strategy.RandomStrategy" />
        </bean>
        <bean class="java.lang.Class" factory-method="forName">
          <constructor-arg value="jmona.example.game.ipd.strategy.TitForTatStrategy" />
        </bean>
      </set>
    </property>
  </bean>
  
  <bean id="populationFactory" class="jmona.impl.DefaultPopulationFactory">
    <property name="individualFactory" ref="individualFactory" />
    <property name="size" value="70" />
  </bean>

  <bean id="population" 
    factory-bean="populationFactory" 
    factory-method="createPopulation" />

  <bean id="completionCondition"
    class="jmona.game.impl.UniformPopulationCompletionCondition">
    <property name="maxGenerations" value="100" />
  </bean>
  
  <bean id="selectionFunction"
    class="jmona.impl.selection.FitnessProportionateSelection" />

  <bean id="game" class="jmona.example.game.ipd.IPDGame" />

  <bean id="evolutionContext" class="jmona.game.impl.GameEvolutionContext">
    <constructor-arg>
      <ref bean="population" />
    </constructor-arg>
    <property name="selectionFunction" ref="selectionFunction" />
    <property name="game" ref="game" />
  </bean>

</beans>